<script setup lang="ts">
import { ref, useToast } from '#imports';

const toast = useToast();

const groups = ref([
  {
    id: 'users',
    label: 'Users',
    items: [
      {
        label: 'praburangki',
        suffix: 'praburangki',
        to: 'https://github.com/praburangki',
        target: '_blank',
        avatar: {
          src: 'https://github.com/praburangki.png',
        },
      },
      {
        label: 'Wahyu Ivan',
        suffix: 'wahyu-ivan',
        to: 'https://github.com/wahyu-ivan',
        target: '_blank',
        avatar: {
          src: 'https://github.com/wahyu-ivan.png',
        },
      },
      {
        label: 'Sébastien Chopin',
        suffix: 'atinux',
        to: 'https://github.com/atinux',
        target: '_blank',
        avatar: {
          src: 'https://github.com/atinux.png',
        },
      },
      {
        label: 'Hugo Richard',
        suffix: 'HugoRCD',
        to: 'https://github.com/HugoRCD',
        target: '_blank',
        avatar: {
          src: 'https://github.com/HugoRCD.png',
        },
      },
      {
        label: 'Sandro Circi',
        suffix: 'sandros94',
        to: 'https://github.com/sandros94',
        target: '_blank',
        avatar: {
          src: 'https://github.com/sandros94.png',
        },
      },
      {
        label: 'Daniel Roe',
        suffix: 'danielroe',
        to: 'https://github.com/danielroe',
        target: '_blank',
        avatar: {
          src: 'https://github.com/danielroe.png',
        },
      },
      {
        label: 'Jakub Michálek',
        suffix: 'J-Michalek',
        to: 'https://github.com/J-Michalek',
        target: '_blank',
        avatar: {
          src: 'https://github.com/J-Michalek.png',
        },
      },
      {
        label: 'Eugen Istoc',
        suffix: 'genu',
        to: 'https://github.com/genu',
        target: '_blank',
        avatar: {
          src: 'https://github.com/genu.png',
        },
      },
    ],
  },
  {
    id: 'actions',
    items: [
      {
        label: 'Add new file',
        suffix: 'Create a new file in the current directory or workspace.',
        icon: 'i-lucide-file-plus',
        kbds: [
          'meta',
          'N',
        ],
        onSelect() {
          toast.add({ title: 'Add new file' });
        },
      },
      {
        label: 'Add new folder',
        suffix: 'Create a new folder in the current directory or workspace.',
        icon: 'i-lucide-folder-plus',
        kbds: [
          'meta',
          'F',
        ],
        onSelect() {
          toast.add({ title: 'Add new folder' });
        },
      },
      {
        label: 'Add hashtag',
        suffix: 'Add a hashtag to the current item.',
        icon: 'i-lucide-hash',
        kbds: [
          'meta',
          'H',
        ],
        onSelect() {
          toast.add({ title: 'Add hashtag' });
        },
      },
      {
        label: 'Add label',
        suffix: 'Add a label to the current item.',
        icon: 'i-lucide-tag',
        kbds: [
          'meta',
          'L',
        ],
        onSelect() {
          toast.add({ title: 'Add label' });
        },
      },
    ],
  },
]);

function onSelect(item: any) {
  console.log(item);
}
</script>

<template>
  <PCommandPalette
    :groups="groups"
    class="flex-1 h-80"
    @update:model-value="onSelect"
  />
</template>
