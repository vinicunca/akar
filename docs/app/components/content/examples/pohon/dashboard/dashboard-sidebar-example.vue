<script setup lang="ts">
import type { PNavigationMenuItem } from 'pohon-ui';

const items: Array<Array<PNavigationMenuItem>> = [[{
  label: 'Home',
  icon: 'i-lucide:house',
  active: true,
}, {
  label: 'Inbox',
  icon: 'i-lucide:inbox',
  badge: '4',
}, {
  label: 'Contacts',
  icon: 'i-lucide:users',
}, {
  label: 'Settings',
  icon: 'i-lucide:settings',
  defaultOpen: true,
  children: [{
    label: 'General',
  }, {
    label: 'Members',
  }, {
    label: 'Notifications',
  }],
}], [{
  label: 'Feedback',
  icon: 'i-lucide:message-circle',
  to: 'https://github.com/nuxt-ui-templates/dashboard',
  target: '_blank',
}, {
  label: 'Help & Support',
  icon: 'i-lucide:info',
  to: 'https://github.com/nuxt/ui',
  target: '_blank',
}]];
</script>

<template>
  <PDashboardSidebar
    collapsible
    resizable
    :pohon="{ footer: 'border-t border-border' }"
  >
    <template #header="{ collapsed }">
      <BaseLogo
        v-if="!collapsed"
        class="shrink-0 h-5 w-auto"
      />
      <PIcon
        v-else
        name="i-simple-icons:nuxtdotjs"
        class="text-primary mx-auto size-5"
      />
    </template>

    <template #default="{ collapsed }">
      <PButton
        :label="collapsed ? undefined : 'Search...'"
        icon="i-lucide:search"
        color="neutral"
        variant="outline"
        block
        :square="collapsed"
      >
        <template
          v-if="!collapsed"
          #trailing
        >
          <div class="ms-auto flex gap-0.5 items-center">
            <PKbd
              value="meta"
              variant="subtle"
            />
            <PKbd
              value="K"
              variant="subtle"
            />
          </div>
        </template>
      </PButton>

      <PNavigationMenu
        :collapsed="collapsed"
        :items="items[0]"
        orientation="vertical"
      />

      <PNavigationMenu
        :collapsed="collapsed"
        :items="items[1]"
        orientation="vertical"
        class="mt-auto"
      />
    </template>

    <template #footer="{ collapsed }">
      <PButton
        :avatar="{
          src: 'https://github.com/praburangki.png',
        }"
        :label="collapsed ? undefined : 'Benjamin'"
        color="neutral"
        variant="ghost"
        class="w-full"
        :block="collapsed"
      />
    </template>
  </PDashboardSidebar>
</template>
